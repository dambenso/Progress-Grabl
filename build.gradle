/*
 * Build file for grabl
 * A Gradle plugin for ABL based on PCT written in Groovy
 *
 * Based on:
 *  - https://docs.gradle.org/current/userguide/plugins.html
 *  - https://docs.gradle.org/3.5/userguide/custom_plugins.html
 *  - https://github.com/gradle/gradle/tree/master/subprojects/docs/src/samples/customPlugin/plugin
 *  - https://github.com/gradle/gradle/tree/master/subprojects/docs/src/samples/javaGradlePlugin
 */

plugins {
    id 'java-gradle-plugin'
}

// Apply the groovy plugin to add support for Groovy
apply plugin: 'groovy'

group = 'io.gitlab.grabl'
version = '0.0.0-SNAPSHOT'

repositories {
    jcenter()
}

dependencies {
    // Use the awesome Spock testing and specification framework
    testCompile('org.spockframework:spock-core:1.1-groovy-2.4-rc-4') {
        exclude module: 'groovy-all'
    }
    testCompile 'junit:junit:4.12'
    // required by spock for mocking classes
    testCompile 'net.bytebuddy:byte-buddy:1.6.9'
}

gradlePlugin {
    plugins {
        grabl {
            id = "${project.group}.${project.name}"
            implementationClass = "${project.group}.GrablPlugin"
        }
    }
}
